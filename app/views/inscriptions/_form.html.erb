<%= semantic_form_for(@inscription) do |f| %>

  <% if @inscription.errors.any? %>
    <div id="error_explanation" class="alert alert-danger">
      <h2><%= pluralize(@inscription.errors.count, "error") %> han prohibido que esta inscripción se guarde:</h2>
      <ul> <% @inscription.errors.full_messages.each do |message| %> <li><%= message %></li> <% end %> </ul>
    </div>
  <% end %>

  <legend>Datos personales</legend>
  <%= f.input :event_id, as: :hidden, input_html: {value: @event.id} %>
  <%= f.input :document_id, input_html: { maxlength: 15 } %>
  <%= f.inputs :first_name, :last_name %>
  <%= f.input :sex, as: :select, collection: Inscription::SEX.to_a %>
  <%= f.input :born_at, start_year: 1900, end_year: Date.today.year-3 %>

  <!-- LOCATION starts -->
  <%# f.input :provincia, as: :select, collection: get_locations(:provincias, "ins"), input_html: {disabled: true} %>
  <%= f.input :provincia, as: :select, collection: get_locations(:provincias, "ins"), class: "disabled" %>
  <%= f.input :canton, as: :select, collection: get_locations(:cantones, "ins") %>
  <%= f.input :parroquia, as: :select, collection: get_locations(:parroquias, "ins") %>
  <%= f.input :address %>
  <!-- LOCATION ends -->

  <%= f.inputs :phone %>
  <%= f.inputs :email, required: false %>

  <% if @event.ttype_class == "audiencia" %>
    <%= render partial: "form_audiencia", locals: {f: f} %>
  <% end %>

  <% if @event.ttype_class == "actividad" %>
    <%= render partial: "form_actividad", locals: {f: f} %>
  <% end %>

  <% if @event.ttype_class == "plantas" %>
    <%= render partial: "form_plantas", locals: {f: f} %>
  <% end %>

  <div class="well">
    <%= f.actions do %>
      <%= f.action :submit, label: "Dar de alta inscripción", button_html: { class: "btn btn-success btn-large" } %>
    <% end %>
  </div>

  <br>

<% end %>
