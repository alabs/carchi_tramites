<%= semantic_form_for(@inscription) do |f| %>

  <% if @inscription.errors.any? %>
    <div id="error_explanation" class="alert alert-danger">
      <h2><%= pluralize(@inscription.errors.count, "error") %> han prohibido que esta inscripci√≥n se guarde:</h2>

      <ul>
        <% @inscription.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>


  <legend>Datos personales</legend>
  <%= f.input :event_id, as: :hidden, input_html: {value: @event.id} %>
  <%= f.inputs :document_id, :first_name, :last_name, required: :required %>
  <%= f.input :sex, as: :select, collection: Inscription::SEX.to_a %>
  <%= f.inputs :born_at, :provincia, :canton, :parroquia, :address, :phone, :email %>

  <%= f.inputs :ed_level, :ed_unity, :observations %>
  <legend>Datos del representante legal</legend>
  <%= f.inputs :rep_document_id, :rep_full_name %>
  <%= f.input :rep_sex, as: :select, collection: Inscription::SEX.to_a %>
  <%= f.inputs :rep_title, :rep_phone_home, :rep_phone_celular, :rep_parroquia, :rep_canton, 
    :rep_provincia, :rep_address, :rep_work_name, :rep_work_address, :rep_work_phone %>

  <fieldset>
    <legend>Plantas a solicitar</legend>
    <div id="inscriptions_plants">
      <%= f.semantic_fields_for :inscriptions_plant do |inscription_plant| %>
        <%= render 'inscriptions_plant_fields', f: inscription_plant %>
        <%= link_to_add_association '+ agregar planta', f, :inscriptions_plants %>
      <% end %>
    </div>
  </fieldset>


  <%= f.inputs do %>
    <%= link_to 'Cancelar', root_path, class: "btn btn-danger" %>
    <%= f.action :submit, button_html: { class: "btn btn-success" } %>
  <% end %>

<% end %>
